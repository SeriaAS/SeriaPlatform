<?php
	/**
	*	Represents a file. The following applies to special file types:
	*
	*	Images can be resized by accessing them trough the image() method.
	*	Videos accessed trough the video() method.
	*/
	class SERIA_Blob extends SERIA_MetaObject
	{
		public static function Meta($instance=NULL)
		{
			return array(
				'table' => '{blob}',
				'displayField' => 'name',
				'fields' => array(
					'name' => array('filename required', _t("Filename")),
					'type' => array('SERIA_BlobType required', _t("Filetype")),
					'filepath' => array('filepath required', _t("Physical path")),	// path relative to SERIA_FILES_ROOT
					'cdnHost' => array('SERIA_BlobCdn', _t("CDN host")),		// host serving this file, for example Amazon S3
					'cdnUrl' => array('url', _t("Off-site url")),			// when the file have been uploaded to the CDN, the url will be set here
					'derivedFrom' => array('SERIA_Blob', _t("Derived from")),	// if this file is a thumbnail
					'createdBy' => 'createdBy',
					'createdDate' => 'createdDate',
				),
			);
		}

		public static function templateFilter($buffer)
		{
			return $buffer;
		}
	}

	SERIA_Templ
